{% extends 'base.html' %}

{% block content %}
  <div class="container mt-4">
    <h2 class="mb-4">Update Post</h2>
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="form-group">
        {{ form.title.label_tag }}
        <input type="text" name="title" class="form-control" value="{{ form.instance.title }}">
      </div>
      <div class="form-group">
        {{ form.slug.label_tag }}
        <input type="text" name="slug" class="form-control" value="{{ form.instance.slug }}">
      </div>
      <div class="form-group">
        {{ form.author.label_tag }}
        {{ form.author }}
      </div>
      <div class="form-group">
        {{ form.body.label_tag }}
        <textarea name="body" class="form-control" rows="5">{{ form.instance.body }}</textarea>
      </div>
      <div class="form-group">
        {{ form.publish.label_tag }}
        <input type="datetime-local" name="publish" class="form-control" value="{{ form.instance.publish|date:'Y-m-d\\TH:i' }}">
      </div>
      <div class="form-group">
        {{ form.status.label_tag }}
        {{ form.status }}
      </div>
      <div class="form-group">
        {{ form.category.label_tag }}
        {{ form.category }}
      </div>
      <div class="form-group">
        {{ form.tags.label_tag }}
        <input type="text" name="tags" class="form-control" value="{% for tag in post.tags.all %}{{ tag.name }}{% if not forloop.last %},{% endif %}{% endfor %}">
      </div>
      <div class="form-group m-3">
        {{ form.image.label_tag }}
        {{ form.image }}
      </div>
      <button type="submit" class="btn btn-primary mb-4">Save Post</button>
    </form>
  </div>
{% endblock %}
