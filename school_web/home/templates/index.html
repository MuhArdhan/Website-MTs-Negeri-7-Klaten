{% extends 'base.html' %}
{% block title %}Home{% endblock %}
{% block content %}
{% load static %}

    <!-- Hero Section with Parallax Effect -->
    <section class="relative w-full h-screen bg-fixed bg-center bg-cover flex flex-col justify-center items-center text-center" style="background-image: url('{% static "assets/img/hero.jpeg" %}');">
        <h1 class="text-5xl font-bold text-white drop-shadow-lg" style="text-shadow: 2px 2px 4px black">MTs NEGERI 7 KLATEN</h1>
        <div class="mt-4 w-full flex justify-center">
            <div class="flex bg-white shadow-lg rounded-full w-1/2 p-3 items-center">
                <input type="text" placeholder="Cari..." class="flex-1 outline-none px-4 py-2 rounded-full">
                <button class="bg-gray-800 text-white font-bold px-6 py-2 rounded-full">Cari</button>
            </div>
        </div>
    </section>

    <!-- Berita Terbaru -->
    <section id="trending-category" class="py-12">
    <div class="text-4xl text-center font-bold text-gray-800">Berita Terbaru</div>
    <div class="flex justify-center mt-2 pb-24">
        <div class="w-10 h-1 bg-gray-800 mx-1"></div>
        <div class="w-10 h-1 bg-gray-800 mx-1"></div>
    </div>
    <div class="container mx-auto px-4" data-aos="fade-up" data-aos-delay="100">
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        {% for post in post %}
        <div class="bg-white shadow-md rounded-lg overflow-hidden">
            <a href="{{ post.get_absolute_url }}">
            <img src="{{ post.image.url }}" alt="" class="w-full h-48 object-cover">
            </a>
            <div class="p-4">
            <div class="text-sm text-gray-500">
                <span class="text-green-700 font-semibold">{{ post.category }}</span>
                <span class="mx-1">â€¢</span>
                <span>{{ post.publish }}</span>
            </div>
            <h2 class="text-lg font-semibold mt-2">
                <a href="{{ post.get_absolute_url }}" class="text-gray-800 hover:text-blue-600">{{ post.title }}</a>
            </h2>
            <p class="text-sm text-gray-600 mt-1">Tags: {{ post.tags.all|join:", " }}</p>
            <p class="text-gray-700 mt-2">{{ post.body|truncatewords:20 }}</p>
            <div class="flex items-center mt-4">
                {% if post.author.profile.image %}
                <img src="{{ post.author.profile.image.url }}" alt="" class="w-10 h-10 rounded-full object-cover">
                {% else %}
                <img src="{% static 'assets/default.jpg' %}" alt="" class="w-10 h-10 rounded-full object-cover">
                {% endif %}
                <div class="ml-3">
                <h3 class="text-sm font-semibold text-gray-800">{{ post.author }}</h3>
                </div>
            </div>
            </div>
        </div>
        {% endfor %}
        </div>
    </div>
    </section>

    <!-- Gelombang Atas -->
    <div class="relative -mt-1 drop-shadow-2xl/100">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
            <path fill="#ffffff" fill-opacity="1" d="M0,224L80,202.7C160,181,320,139,480,112C640,85,800,75,960,80C1120,85,1280,107,1360,117.3L1440,128L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"></path>
        </svg>
    </div>

    <!-- Ekstrakurikuler -->
<section id="ekstrakurikuler" class="bg-white pb-16 relative z-50">
    <div class="text-4xl text-center font-bold text-gray-800">Ekstrakurikuler</div>
    <div class="flex justify-center mt-2 mb-10">
      <div class="w-10 h-1 bg-gray-800 mx-1"></div>
      <div class="w-10 h-1 bg-gray-800 mx-1"></div>
    </div>
  
    <div class="swiper init-swiper">
      <script type="application/json" class="swiper-config">
        {
          "loop": true,
          "speed": 600,
          "autoplay": {
            "delay": 5000
          },
          "slidesPerView": 1,
          "navigation": {
            "nextEl": ".swiper-button-next",
            "prevEl": ".swiper-button-prev"
          }
        }
      </script>
  
      <div class="swiper-wrapper">
        {% for eskul in ekstrakurikuler %}
        <div class="swiper-slide px-6 py-10 bg-white rounded-lg shadow-md">
            <div class="flex flex-col md:flex-row items-center md:items-stretch gap-8">
          
              <!-- Kiri -->
              <div class="md:w-1/2 text-center md:text-left flex flex-col justify-center items-center md:items-start">
                <img src="{{ eskul.image.url }}" alt="{{ eskul.name }}" class="w-36 h-36 object-contain">
                <h2 class="text-2xl font-bold text-gray-800 mt-4">{{ eskul.name|upper }}</h2>
                <p class="text-gray-600 text-lg">{{ eskul.deskripsi|truncatewords:5 }}</p>
                <a href="{{ eskul.get_absolute_url }}" class="inline-flex items-center px-4 py-2 mt-4 border border-green-500 text-green-600 font-semibold rounded-full hover:bg-green-500 hover:text-white transition">
                  SELENGKAPNYA
                  <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                  </svg>
                </a>
              </div>
          
              <!-- Kanan -->
              <div class="md:w-1/2 flex flex-col justify-center items-center">
                <img src="{{ eskul.image.url }}" alt="{{ eskul.name }}" class="w-40 h-40 object-contain">
                <h3 class="text-lg font-semibold text-gray-800 mt-4">Selengkapnya Tentang {{ eskul.name }}</h3>
                <p class="text-gray-700 font-semibold mb-2">Media Sosial:</p>
                <div class="flex justify-center space-x-4 mt-2">
                  <a href="{{ eskul.instagram }}" target="_blank" class="bg-red-100 p-2 rounded-full text-red-500 hover:bg-red-200 transition">
                    <i class="fab fa-instagram"></i>
                  </a>
                  <a href="{{ eskul.facebook }}" target="_blank" class="bg-green-100 p-2 rounded-full text-green-500 hover:bg-green-200 transition">
                    <i class="fas fa-user"></i>
                  </a>
                </div>
              </div>
          
            </div>
          </div>
          
        {% endfor %}
      </div>
  
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
    </div>
  </section>
  
  
    <!-- Gelombang Bawah -->
    <div class="relative -mt-1 drop-shadow-2xl/20">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
            <path fill="#ffffff" fill-opacity="1" d="M0,96L80,112C160,128,320,160,480,165.3C640,171,800,149,960,128C1120,107,1280,85,1360,74.7L1440,64L1440,0L1360,0C1280,0,1120,0,960,0C800,0,640,0,480,0C320,0,160,0,80,0L0,0Z"></path>
        </svg>
    </div>

    <div class="swiper-wrapper">
        {% for eskul in ekstrakurikuler %}
        <div class="swiper-slide bg-white p-6 rounded-lg shadow-md flex flex-col md:flex-row items-center gap-6">
          
          <!-- Kiri: Gambar dan Nama -->
          <div class="flex-shrink-0 text-center">
            <img src="{{ eskul.image.url }}" alt="{{ eskul.name }}" class="w-24 h-24 object-cover rounded-full mx-auto mb-2">
            <h2 class="text-xl font-bold text-gray-800 mt-2">{{ eskul.name }}</h2>
          </div>
      
          <!-- Kanan: Deskripsi -->
          <div class="flex-1 text-gray-600">
            <p>{{ eskul.deskripsi|truncatewords:30 }}</p>
          </div>
      
        </div>
        {% endfor %}
      </div>
{% endblock %}
